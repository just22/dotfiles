% ----------------------------------------------------------------------
%  $Id$
%
%  Custom defs for LaTeX
% ----------------------------------------------------------------------

\ProvidesPackage{customdefs}

\RequirePackage{mathtools}
\RequirePackage{circuitikz}


% ------------------------------
% Delimiters
% ------------------------------
\DeclarePairedDelimiter {\p}  {(} {)}
\DeclarePairedDelimiter {\sqb} {[} {]}
\DeclarePairedDelimiter {\cb} {\{} {\}}

\newcommand \lorig \l
\renewcommand \l {
	\relax
	\ifmmode
		\left
	\else
		\lorig
	\fi
}

\newcommand \rorig \r
\renewcommand \r {
	\relax
	\ifmmode
		\right
	\else
		\rorig
	\fi
}


% ------------------------------
% Symbols
% ------------------------------
\newcommand \R {\mathbb{R}}
\newcommand \C {\mathbb{C}}
\newcommand \N {\mathbb{N}}
\newcommand \F {\mathcal{F}}

\let \Lorig \L
\renewcommand \L {
	\relax
	\ifmmode
		\mathcal{L}
	\else
		\Lorig
	\fi
}
\newcommand \Linv {\mathcal{L}^{-1}}

\renewcommand \* {
	\relax
	\ifmmode
		\mathcal{\cdot}
	\else
		$ \bullet $
	\fi
}

% Integrals
\newcommand \dt {\ensuremath{\mathrm{d}t}}
\newcommand \dx {\ensuremath{\mathrm{d}x}}

\let \dorig \d
\renewcommand \d {
	\relax
	\ifmmode
		\mathrm{d}
	\else
	  \dorig
	\fi
}


% ------------------------------
% Less verbose descr/item env
%
% Examples:
%     \1{}    - Pause after each item, no bullet
%     \1{\*}  - Pause after each item, with bullet (or whatever)
%     \1*{}   - No pause, no bullet
%     \1*{\*} - No pause, with bullet (or whatever)
% ------------------------------
\newcommand {\one}[1] {
	\begin{itemize}[<+->]
		\setlength\itemsep{1.0em}
		\item[#1]
}
\newcommand {\onestarred}[1] {
	\begin{itemize}
		\item[#1]<.->
}
\newcommand {\num}[1] {\item[#1]}

\newcommand {\numstarred}[1] {\item[#1]<.->}

\newcommand {\zero} {
	\end{itemize}
	\vspace{0.5em}
}

\newcommand {\1} {\@ifstar \onestarred \one}
\newcommand {\2} {\@ifstar \numstarred \num}
\newcommand {\3} {\@ifstar \numstarred \num}
\newcommand {\4} {\@ifstar \numstarred \num}
\newcommand {\5} {\@ifstar \numstarred \num}
\newcommand {\6} {\@ifstar \numstarred \num}
\newcommand {\7} {\@ifstar \numstarred \num}
\newcommand {\8} {\@ifstar \numstarred \num}
\newcommand {\9} {\@ifstar \numstarred \num}
\newcommand {\0} {\@ifstar \zero \zero}


% ------------------------------
% Text in math with spacing
% ------------------------------
\let \torig \t
\renewcommand {\t} {
	\relax
	\ifmmode
		\expandafter\mathrel \expandafter\text
	\else
		\expandafter\torig
	\fi
}

\let \commaorig \,
\renewcommand {\,} {
	\relax
	\ifmmode
		,\;
	\else
		\commaorig
	\fi
}


% ------------------------------
% Reference footnotes
% ------------------------------
\newcommand {\refnote}[1] {
	\begingroup
		\renewcommand {\thefootnote}{} \footnote{\hspace{15pt}Ref: #1} %
		\addtocounter {footnote} {-1} %
	\endgroup
}


% ------------------------------
% Circuit elements
% ------------------------------
\ctikzset{bipoles/length=0.5cm}
\newcommand {\ecir}[1] {
	\begin{circuitikz}
		\draw (0,0) to [#1] (0.75,0);
	\end{circuitikz}
}
\newcommand {\resistor} { 
	\ecir{resistor}
}
\newcommand {\capacitor} { 
	\ecir{capacitor}
}
\newcommand {\diode} { 
	\ecir{diode}
}

% ------------------------------
% Command abbreviations
% ------------------------------
\newcommand {\e} {\emph}

