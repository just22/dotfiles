#!/bin/sh

# ----------------------------------------------------------------------
#  $Id$
#
#  fluxbox(1) startup-script
# ----------------------------------------------------------------------

# Change your keymap
#
# xmodmap "/home/just22/.Xmodmap"

# Applications you want to run with fluxbox.
# MAKE SURE THAT APPS THAT KEEP RUNNING HAVE AN ''&'' AT THE END.
#
# unclutter -idle 2 &
# wmnd &
# wmsmixer -w &
# idesk &
# gkrellm -w &

# Process monitor
xterm -title "Process monitor" -e top &

# System statistics
xterm -title "System stats" -e systat &

# System log
sleep 1
xkill -id $(xwininfo -name xconsole |
            egrep -o "Window id: 0x[0-9a-fA-F]+" |
            cut -d: -f2) && \
xterm -title "System log" -e "tail -f /var/log/messages" &

# Compositor manager
xcompmgr &

# Set the root window background & wallpaper
fbsetroot -gradient Vertical -from rgb:07/36/42 -to rgb:58/6E/75
nitrogen --restore

# Desktop management
#(sleep 1; dbus-launch pcmanfm --desktop) &

# Statusbar
pkill -x space_dapp; (sleep 1; space_dapp $((($(screen-width) - 1))) 17) &
(sleep 3; dbar) &
pkill -x bbpager; (sleep 4; bbpager) &

# Tray apps
vol-tray &
radiotray &


# And last but not least we start fluxbox.
# Because it is the last app you have to run it with ''exec'' before it.
#
#exec fluxbox

# Or, if you want to keep a log:
mv -f ~/.fluxbox/fluxbox.log{,.old} 2> /dev/null
exec fluxbox -log ~/.fluxbox/fluxbox.log
