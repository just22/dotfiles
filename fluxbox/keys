# ----------------------------------------------------------------------
#  $Id$
#
#  Keyboard shortcuts configuration for fluxbox(1)
# ----------------------------------------------------------------------

# Click on the desktop to get menus
OnDesktop Mouse1        :HideMenus
OnDesktop Mouse2        :WorkspaceMenu
OnDesktop Mouse3        :RootMenu

# Mod4+click on window to raise/move/lower/resize
OnWindow Mod4 Mouse1    :MacroCmd {Raise} {Focus} {StartMoving}
OnWindow Mod4 Mouse2    :Lower
OnWindow Mod4 Mouse3    :MacroCmd {Raise} {Focus} {StartResizing NearestCorner}

# Click on titlebar to move/raise/group
OnTitlebar  Move1               :StartMoving
OnTitlebar  Mouse1              :MacroCmd {Raise} {Focus} {ActivateTab}
OnTitlebar  Double Mouse1       :MacroCmd {Raise} {Maximize}
OnTitlebar  Control Mouse1      :StartTabbing
OnTitlebar  Mouse2              :Exec wmprocs tile v
OnTitlebar  Control Mouse2      :Exec wmprocs tile h
OnTitlebar  Mouse3              :WindowMenu

# Click on grip to resize
OnLeftGrip  Move1       :StartResizing bottomleft
OnRightGrip Move1       :StartResizing bottomright

# Cycle through windows in the current workspace
Mod4 Tab                :NextWindow {groups} (workspace=[current]) (Minimized=no)

# Current window commands
Mod4 Control x          :Kill
Mod4 Down               :MacroCmd {ResizeTo 100%  50%} {MoveTo 0% 0% BottomLeft}
Mod4 underscore         :Minimize
Mod4 KP_1               :MacroCmd {ResizeTo  50%  67%} {MoveTo 0% 0% BottomLeft}
Mod4 KP_2               :MacroCmd {ResizeTo 100%  33%} {MoveTo 0% 0% BottomLeft}
Mod4 KP_3               :MacroCmd {ResizeTo  50%  67%} {MoveTo 0% 0% BottomRight}
Mod4 KP_4               :MacroCmd {ResizeTo  33% 100%} {MoveTo 0% 0% BottomLeft}
Mod4 KP_6               :MacroCmd {ResizeTo  33% 100%} {MoveTo 0% 0% BottomRight}
Mod4 KP_7               :MacroCmd {ResizeTo  50%  67%} {MoveTo 0% 0% UpperLeft}
Mod4 KP_8               :MacroCmd {ResizeTo 100%  33%} {MoveTo 0% 0% UpperLeft}
Mod4 KP_9               :MacroCmd {ResizeTo  50%  67%} {MoveTo 0% 0% UpperRight}
Mod4 Left               :MacroCmd {ResizeTo  50% 100%} {MoveTo 0% 0% BottomLeft}
Mod4 Right              :MacroCmd {ResizeTo  50% 100%} {MoveTo 0% 0% BottomRight}
Mod4 Up                 :MacroCmd {ResizeTo 100%  50%} {MoveTo 0% 0% UpperLeft}
Mod4 a                  :Fullscreen
Mod4 m                  :MacroCmd {Raise} {Maximize}
Mod4 p                  :Exec activewin_xprop
Mod4 s                  :StickWindow
Mod4 x                  :Close

# Change to a specific workspace
Mod4 1                  :Workspace 1
Mod4 2                  :Workspace 2
Mod4 3                  :Workspace 3
Mod4 4                  :Workspace 4
Mod4 5                  :Workspace 5
Mod4 6                  :Workspace 6
Mod4 7                  :Workspace 7

# Send the current window to a specific workspace
Mod4 Shift 1            :SendToWorkspace 1
Mod4 Shift 2            :SendToWorkspace 2
Mod4 Shift 3            :SendToWorkspace 3
Mod4 Shift 4            :SendToWorkspace 4
Mod4 Shift 5            :SendToWorkspace 5
Mod4 Shift 6            :SendToWorkspace 6
Mod4 Control 1          :TakeToWorkspace 1
Mod4 Control 2          :TakeToWorkspace 2
Mod4 Control 3          :TakeToWorkspace 3
Mod4 Control 4          :TakeToWorkspace 4
Mod4 Control 5          :TakeToWorkspace 5
Mod4 Control 6          :TakeToWorkspace 6

# Tiling
#Mod4 v                  :MacroCmd {ResizeTo  50% 100%} {MoveTo 0% 0% BottomLeft} {NextWindow {groups} (Workspace=[current]) (Minimized=no)} {Delay {MacroCmd {ResizeTo  50% 100%} {MoveTo 0% 0% BottomRight}} 1}
#Mod4 h                  :MacroCmd {ResizeTo 100%  50%} {MoveTo 0% 0% BottomLeft} {NextWindow {groups} (Workspace=[current]) (Minimized=no)} {Delay {MacroCmd {ResizeTo 100%  50%} {MoveTo 0% 0% UpperLeft}} 1}
#Mod4 Control v          :MacroCmd {ResizeTo  50%  50%} {MoveTo 0% 0% UpperRight} {NextWindow {groups} (Workspace=[current]) (Minimized=no)} {Delay {MacroCmd {ResizeTo  50%  50%} {MoveTo 0% 0% BottomRight} {NextWindow {groups} (workspace=[current])} {Delay {MacroCmd {ResizeTo  50% 100%} {MoveTo 0% 0% UpperLeft}} 1}} 1}
#Mod4 Control h          :MacroCmd {ResizeTo  50%  50%} {MoveTo 0% 0% BottomLeft} {NextWindow {groups} (Workspace=[current]) (Minimized=no)} {Delay {MacroCmd {ResizeTo  50%  50%} {MoveTo 0% 0% BottomRight} {NextWindow {groups} (workspace=[current])} {Delay {MacroCmd {ResizeTo 100%  50%} {MoveTo 0% 0% UpperLeft}} 1}} 1}
#Mod4 v                  :ArrangeWindowsStackRight  (Title!=pcmanfm) (Title!=bbpager)
#Mod4 h                  :ArrangeWindowsStackBottom (Title!=pcmanfm) (Title!=bbpager)
Mod4 v                  :Exec wmprocs tile v
Mod4 h                  :Exec wmprocs tile h

# Common WM actions
Mod4 space              :RootMenu
Mod4 F1                 :Exec (fluxbox -v; fluxbox -info | sed 1d) | xmessage -buttons OK:0 -file - -center
Mod4 F2                 :Exec dmenu_run-cust -p Run:
Mod4 c                  :ShowDesktop
Mod4 f                  :Exec dmenu-filebrowser
Mod4 t                  :Exec tmux_pane_search
Mod4 w                  :Exec win_search
Mod4 d                  :Exec dmenu_run-cust -p Run:
Mod4 Control q          :Exec dmenu-xrandr Off
Mod4 Control r          :Reconfigure

# Application launchers
Mod4 Shift Return       :Exec x-terminal-emulator
Mod4 Shift b            :Exec x-www-browser
Mod4 Shift c            :Exec dmenu-calc
Mod4 Shift d            :Exec dmenu-xrandr
Mod4 Shift f            :Exec x-terminal-emulator -e ranger
Mod4 Shift m            :Exec x-email-client
Mod4 Shift p            :Exec play-url -p
Mod4 Shift q            :Exec dmenu-session-logout
Mod4 Shift r            :Exec dmenu-timer
Mod4 Shift t            :Exec x-terminal-emulator -e "tmux attach-session -d || tmux new-session"
Mod4 Shift x            :Exec dmenu-xautolock

# Configurable keys (site dependent)
Mod4 F3                 :Exec ~/.fluxbox/exec-F3
Mod4 F4                 :Exec ~/.fluxbox/exec-F4
Mod4 F5                 :Exec ~/.fluxbox/exec-F5
Mod4 F6                 :Exec ~/.fluxbox/exec-F6
Mod4 F7                 :Exec ~/.fluxbox/exec-F7
Mod4 F8                 :Exec ~/.fluxbox/exec-F8
Mod4 F9                 :Exec ~/.fluxbox/exec-F9
Mod4 F10                :Exec ~/.fluxbox/exec-F10
Mod4 F11                :Exec ~/.fluxbox/exec-F11
Mod4 F12                :Exec ~/.fluxbox/exec-F12

# Heritages...
Mod1 Control Delete     :Exec xautolock -locknow

# System specific
Mod4 Control c          :Exec change-perfpolicy
Mod4 Shift h            :Exec ZZZ
Mod4 Shift k            :Exec dmenu-kbd
Mod4 Shift l            :Exec dmenu-lpr
Mod4 Shift s            :Exec zzz

